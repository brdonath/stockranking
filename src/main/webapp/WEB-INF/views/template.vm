#* @vtlvariable name="boostAnalizers" type="java.util.ArrayList<com.dontah.processors.BoostAnalizer>" *#
#* @vtlvariable name="results" type="java.util.ArrayList<com.dontah.service.Result>" *#
#parse("header.vm")
<script>
    function showHide(elem) {
        var id = '#div' + elem.id;
        if ($(id).is(':visible')) {
            $(id).hide();
        } else {
            $(id).show();
        }
    }
</script>

<div class="container">
    <div class="row">
        <div class="col-md-9">
            Pesos escolhidos:
            <p>
                #foreach($boostAnalizer in $boostAnalizers)
                    $boostAnalizer.processor.name $boostAnalizer.boost <br>
                #end
            </p>


            #foreach($result in $results)
                #set($id = $result.company.codBolsa)
                <table class="table table-striped table-hover table-condensed table-bordered">
                    <tbody>
                        <tr>
                            <td style="width: 6%;vertical-align: middle;text-align: center;">
                                 <span class="label label-default" style="font-size: 18px;">$velocityCount&ordm;</span>
                                  </td>
                            <td style="width: 30%;vertical-align: middle;">$result.company.codBolsa $result.company.nome
                                <a href="#div$id" class="btn btn-default btn-link btn-xs inline">
                                    <span class="glyphicon glyphicon-plus"></span> detalhes</a>
                            </td>
                            #foreach($boostAnalizer in  $result.boostAnalizerList )
                             <td style="width: 16%;" >
                                <strong>$boostAnalizer.processor.getName()</strong><br>
                                $boostAnalizer.result ($boostAnalizer.resultWithBoostApplied)
                            </td>
                            #end
                            <td style="width: 16%;text-align: center;" class="success">
                                <strong>Total</strong><br>
                                $result.result</td>
                        </tr>
                    </tbody>
                </table>
            #end

        </div>
        <div class="col-md-3">
        </div>
    </div>
</div>

#foreach($result in $results)
    #set($id = $result.company.codBolsa)
<div style="display: none">
    <div id="div$id" tabindex="-1" role="dialog" aria-hidden="true">
        <h3><span class="label label-default">$velocityCount&ordm;</span> $id - $result.company.nome</h3>
        <table class="table table-striped table-hover table-condensed table-bordered">
            <thead>
            <tr>
                <th>ano</th>
                <th>patrimonio</th>
                <th>receitaLiquida</th>
                <th>lucro</th>
                <th>roe</th>
                <th>caixa</th>
                <th>divida</th>
            </tr>
            </thead>
            <tbody>
                #foreach($balance in $result.company.balanceList)
                <tr>
                    <td>$!balance.ano</td>
                    <td>$!balance.patrimonio</td>
                    <td>$!balance.receitaLiquida</td>
                    <td>$!balance.lucro</td>
                    <td>$!balance.roe</td>
                    <td>$!balance.caixa</td>
                    <td>$!balance.divida</td>
                </tr>
                #end
            </tbody>
        </table>
    </div>
</div>
#end

#parse("footer.vm")
